---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout title="Proyectos · Portafolio Frank Huaraca">
  <!-- HERO SECTION CON EFECTOS -->
  <section class="relative min-h-[40vh] bg-gradient-to-br from-slate-900 via-purple-900 to-blue-900 overflow-hidden">
    <!-- Efectos de fondo animados -->
    <div class="absolute inset-0">
      <div class="absolute top-1/4 left-1/4 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl animate-pulse"></div>
      <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse animation-delay-2000"></div>
      <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-cyan-500/10 rounded-full blur-3xl animate-pulse animation-delay-4000"></div>
    </div>

    <!-- Grid pattern -->
    <div class="grid-pattern-light"></div>

    <div class="container mx-auto px-4 py-16 relative z-10">
      <div class="text-center text-white" data-aos="fade-up">
        <h1 class="text-5xl md:text-6xl font-bold mb-4 bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent">
          Mis Proyectos
        </h1>
        <p class="text-xl text-blue-200 max-w-2xl mx-auto">
          Una colección de soluciones innovadoras donde la tecnología encuentra la creatividad
        </p>
      </div>
    </div>
  </section>

  <!-- CONTENIDO PRINCIPAL -->
  <main class="relative bg-gradient-to-b from-slate-50 to-white py-16">
    <!-- Efectos de fondo sutiles -->
    <div class="absolute inset-0 overflow-hidden">
      <div class="floating-shape shape-4"></div>
      <div class="floating-shape shape-5"></div>
    </div>

    <div class="container mx-auto px-4 relative z-10">
      <!-- FILTROS MEJORADOS -->
      <div class="flex flex-col lg:flex-row justify-between items-start lg:items-center mb-12 gap-6" data-aos="fade-up">
        <div>
          <h2 class="text-3xl font-bold text-gray-900 mb-2">Explora Mi Trabajo</h2>
          <p class="text-gray-600">Soluciones que transforman ideas en experiencias digitales excepcionales</p>
        </div>
        
        <!-- Filtros con diseño moderno -->
        <div class="filter-container" role="tablist">
          <button class="filter-btn active" data-filter="all">
            <i class="fas fa-layer-group mr-2"></i>
            Todos
          </button>
          <button class="filter-btn" data-filter="data">
            <i class="fas fa-database mr-2"></i>
            Data & BI
          </button>
          <button class="filter-btn" data-filter="mobile">
            <i class="fas fa-mobile-alt mr-2"></i>
            Móvil
          </button>
          <button class="filter-btn" data-filter="analytics">
            <i class="fas fa-chart-line mr-2"></i>
            Analítica
          </button>
          <button class="filter-btn" data-filter="web">
            <i class="fas fa-globe mr-2"></i>
            Web
          </button>
        </div>
      </div>

      <!-- GRILLA DE PROYECTOS -->
      <div class="projects-grid">
        <!-- PROYECTO 1 - DATA & BI -->
        <div class="project-card" data-category="data" data-aos="fade-up" data-aos-delay="100">
          <div class="project-image-container">
            <img src="/img/proyecto1.png" alt="Asistente Sky[-7" class="project-image" />
            <div class="project-overlay">
              <div class="project-actions">
                <button class="action-btn primary" onclick="openProjectModal('project1')">
                  <i class="fas fa-eye"></i>
                  Demo
                </button>
                <button class="action-btn secondary">
                  <i class="fas fa-code"></i>
                  Código
                </button>
              </div>
            </div>
            <div class="project-badge data">
              <i class="fas fa-database"></i>
              Data & BI
            </div>
          </div>
          
          <div class="project-content">
            <h3 class="project-title">Sistema Inteligente Sky[-7</h3>
            <p class="project-description">
              Sistema integral de análisis y busquedas en la nube en tiempo real.
            </p>
            
            <div class="project-tech">
              <span class="tech-tag">Power BI</span>
              <span class="tech-tag">SQL Server</span>
              <span class="tech-tag">Python</span>
              <span class="tech-tag">Azure</span>
            </div>
            
            <div class="project-stats">
              <div class="stat">
                <i class="fas fa-chart-bar text-blue-500"></i>
                <span>15+ KPIs</span>
              </div>
              <div class="stat">
                <i class="fas fa-bolt text-green-500"></i>
                <span>Tiempo real</span>
              </div>
            </div>
          </div>
        </div>

        <!-- PROYECTO 2 - MÓVIL -->
        <div class="project-card" data-category="mobile" data-aos="fade-up" data-aos-delay="200">
          <div class="project-image-container">
            <img src="/img/proyecto2.png" alt="App de Libros" class="project-image" />
            <div class="project-overlay">
              <div class="project-actions">
                <button class="action-btn primary">
                  <i class="fas fa-eye"></i>
                  Demo
                </button>
                <button class="action-btn secondary">
                  <i class="fas fa-code"></i>
                  Código
                </button>
              </div>
            </div>
            <div class="project-badge mobile">
              <i class="fas fa-mobile-alt"></i>
              Móvil
            </div>
          </div>
          
          <div class="project-content">
            <h3 class="project-title">App Móvil - Plataforma de Lectura</h3>
            <p class="project-description">
              Aplicación con foro y chat de Amantes de la Lectura.
            </p>
            
            <div class="project-tech">
              <span class="tech-tag">React Native</span>
              <span class="tech-tag">Node.js</span>
              <span class="tech-tag">MongoDB</span>
              <span class="tech-tag">Firebase</span>
            </div>
            
            <div class="project-stats">
              <div class="stat">
                <i class="fas fa-users text-purple-500"></i>
                <span>500+ usuarios</span>
              </div>
              <div class="stat">
                <i class="fas fa-star text-yellow-500"></i>
                <span>4.8 rating</span>
              </div>
            </div>
          </div>
        </div>

        <!-- PROYECTO 3 - ANALYTICS -->
        <div class="project-card" data-category="analytics" data-aos="fade-up" data-aos-delay="300">
          <div class="project-image-container">
            <img src="/img/proyecto3.png" alt="" class="project-image" />
            <div class="project-overlay">
              <div class="project-actions">
                <button class="action-btn primary">
                  <i class="fas fa-eye"></i>
                  Demo
                </button>
                <button class="action-btn secondary">
                  <i class="fas fa-code"></i>
                  Código
                </button>
              </div>
            </div>
            <div class="project-badge analytics">
              <i class="fas fa-chart-line"></i>
              Analítica
            </div>
          </div>
          
          <div class="project-content">
            <h3 class="project-title">Sistema de Segmentación Inteligente</h3>
            <p class="project-description">
              Plataforma de machine learning para segmentación de clientes con algoritmos predictivos 
              y personalización de campañas en tiempo real.
            </p>
            
            <div class="project-tech">
              <span class="tech-tag">Python</span>
              <span class="tech-tag">Scikit-learn</span>
              <span class="tech-tag">TensorFlow</span>
              <span class="tech-tag">Tableau</span>
            </div>
            
            <div class="project-stats">
              <div class="stat">
                <i class="fas fa-brain text-indigo-500"></i>
                <span>ML Avanzado</span>
              </div>
              <div class="stat">
                <i class="fas fa-rocket text-red-500"></i>
                <span>+30% Conversión</span>
              </div>
            </div>
          </div>
        </div>

        <!-- PROYECTO 4 - WEB -->
        <div class="project-card" data-category="web" data-aos="fade-up" data-aos-delay="400">
          <div class="project-image-container">
             <img src="/img/proyecto4.png" alt="" class="project-image" />
            <div class="project-placeholder">
              <i class="fas fa-laptop-code text-4xl text-gray-400"></i>
            </div>
            <div class="project-overlay">
              <div class="project-actions">
                <button class="action-btn primary">
                  <i class="fas fa-eye"></i>
                  Demo
                </button>
                <button class="action-btn secondary">
                  <i class="fas fa-code"></i>
                  Código
                </button>
              </div>
            </div>
            <div class="project-badge web">
              <i class="fas fa-globe"></i>
              Web
            </div>
          </div>
          
          <div class="project-content">
            <h3 class="project-title">Plataformas de Aprendizaje con I.A</h3>
            <p class="project-description">
              Plataforma de comercio electrónico con sistema de recomendaciones IA.
            </p>
            
            <div class="project-tech">
              <span class="tech-tag">React</span>
              <span class="tech-tag">Node.js</span>
              <span class="tech-tag">PostgreSQL</span>
              <span class="tech-tag">Stripe</span>
            </div>
            
            <div class="project-stats">
              <div class="stat">
                <i class="fas fa-shopping-cart text-green-500"></i>
                <span>10k+ transacciones</span>
              </div>
              <div class="stat">
                <i class="fas fa-shield-alt text-blue-500"></i>
                <span>100% Seguro</span>
              </div>
            </div>
          </div>
        </div>

        <!-- PROYECTO 5 - DATA -->
        <div class="project-card" data-category="data" data-aos="fade-up" data-aos-delay="500">
          <div class="project-image-container">
             <img src="/img/proyecto5.png" alt="Legend" class="project-image" />
            <div class="project-placeholder">
              <i class="fas fa-cloud text-4xl text-gray-400"></i>
            </div>
            <div class="project-overlay">
              <div class="project-actions">
                <button class="action-btn primary">
                  <i class="fas fa-eye"></i>
                  Demo
                </button>
                <button class="action-btn secondary">
                  <i class="fas fa-code"></i>
                  Código
                </button>
              </div>
            </div>
            <div class="project-badge data">
              <i class="fas fa-database"></i>
              Data & BI
            </div>
          </div>
          
          <div class="project-content">
            <h3 class="project-title">Videojuego Legend en Unity</h3>
            <p class="project-description">
              Infraestructura de datos en Blender en espacios 3D
              Exportados a Unity.
            </p>
            
            <div class="project-tech">
              <span class="tech-tag">AWS</span>
              <span class="tech-tag">Snowflake</span>
              <span class="tech-tag">dbt</span>
              <span class="tech-tag">Looker</span>
            </div>
            
            <div class="project-stats">
              <div class="stat">
                <i class="fas fa-database text-orange-500"></i>
                <span>1TB+ datos</span>
              </div>
              <div class="stat">
                <i class="fas fa-tachometer-alt text-cyan-500"></i>
                <span>+50% Velocidad</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- CALL TO ACTION -->
      <div class="text-center mt-16" data-aos="fade-up">
        <div class="cta-card">
          <h3 class="text-2xl font-bold text-white mb-4">¿Tienes un proyecto en mente?</h3>
          <p class="text-blue-100 mb-6">Hablemos sobre cómo puedo ayudarte a transformar tu idea en realidad</p>
          <a href="/contacto" class="cta-button-xl">
            <span>Iniciar Conversación</span>
            <i class="fas fa-arrow-right ml-2"></i>
          </a>
        </div>
      </div>
    </div>
  </main>

  <!-- MODAL PARA DETALLES DEL PROYECTO -->
  <div id="projectModal" class="modal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <div id="modalBody"></div>
    </div>
  </div>

  <style is:global>
    /* Animaciones y efectos */
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    @keyframes gradient-shift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .animation-delay-2000 { animation-delay: 2s; }
    .animation-delay-4000 { animation-delay: 4s; }

    /* Grid pattern light */
    .grid-pattern-light {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px);
      background-size: 50px 50px;
      mask: radial-gradient(circle at center, transparent 30%, black 70%);
    }

    /* Formas flotantes */
    .floating-shape {
      position: absolute;
      opacity: 0.1;
      animation: float 6s ease-in-out infinite;
    }

    .shape-4 {
      width: 120px; height: 120px;
      background: linear-gradient(45deg, #3b82f6, #8b5cf6);
      top: 10%; right: 5%;
      border-radius: 40% 60% 60% 40% / 60% 30% 70% 40%;
      animation-delay: 0s;
    }

    .shape-5 {
      width: 80px; height: 80px;
      background: linear-gradient(45deg, #10b981, #059669);
      bottom: 20%; left: 10%;
      border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
      animation-delay: 3s;
    }

    /* Filtros mejorados */
    .filter-container {
      display: flex;
      gap: 0.5rem;
      background: white;
      padding: 0.5rem;
      border-radius: 1rem;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      border: 1px solid #e5e7eb;
    }

    .filter-btn {
      display: flex;
      align-items: center;
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 0.75rem;
      background: transparent;
      color: #6b7280;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .filter-btn:hover {
      background: #f3f4f6;
      color: #374151;
    }

    .filter-btn.active {
      background: linear-gradient(135deg, #3b82f6, #8b5cf6);
      color: white;
      box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
    }

    /* Grid de proyectos */
    .projects-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 2rem;
    }

    /* Tarjetas de proyecto mejoradas */
    .project-card {
      background: white;
      border-radius: 1.5rem;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      transition: all 0.4s ease;
      border: 1px solid #f3f4f6;
    }

    .project-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    }

    .project-image-container {
      position: relative;
      height: 240px;
      overflow: hidden;
    }

    .project-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.4s ease;
    }

    .project-card:hover .project-image {
      transform: scale(1.05);
    }

    .project-placeholder {
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .project-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .project-card:hover .project-overlay {
      opacity: 1;
    }

    .project-actions {
      display: flex;
      gap: 0.75rem;
    }

    .action-btn {
      display: flex;
      align-items: center;
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: 0.75rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .action-btn.primary {
      background: linear-gradient(135deg, #3b82f6, #8b5cf6);
      color: white;
    }

    .action-btn.primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4);
    }

    .action-btn.secondary {
      background: white;
      color: #374151;
    }

    .action-btn.secondary:hover {
      background: #f3f4f6;
      transform: translateY(-2px);
    }

    .project-badge {
      position: absolute;
      top: 1rem;
      right: 1rem;
      padding: 0.5rem 1rem;
      border-radius: 2rem;
      font-size: 0.75rem;
      font-weight: 600;
      color: white;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .project-badge.data { background: linear-gradient(135deg, #3b82f6, #1d4ed8); }
    .project-badge.mobile { background: linear-gradient(135deg, #10b981, #047857); }
    .project-badge.analytics { background: linear-gradient(135deg, #f59e0b, #d97706); }
    .project-badge.web { background: linear-gradient(135deg, #8b5cf6, #7c3aed); }

    .project-content {
      padding: 1.5rem;
    }

    .project-title {
      font-size: 1.25rem;
      font-weight: 700;
      color: #1f2937;
      margin-bottom: 0.75rem;
    }

    .project-description {
      color: #6b7280;
      line-height: 1.6;
      margin-bottom: 1rem;
    }

    .project-tech {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .tech-tag {
      background: #f3f4f6;
      color: #374151;
      padding: 0.25rem 0.75rem;
      border-radius: 1rem;
      font-size: 0.75rem;
      font-weight: 500;
    }

    .project-stats {
      display: flex;
      gap: 1rem;
    }

    .stat {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.875rem;
      color: #6b7280;
    }

    /* CTA Card */
    .cta-card {
      background: linear-gradient(135deg, #1e293b, #374151);
      padding: 3rem;
      border-radius: 2rem;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    }

    .cta-button-xl {
      display: inline-flex;
      align-items: center;
      background: linear-gradient(135deg, #3b82f6, #8b5cf6);
      color: white;
      padding: 1rem 2rem;
      border-radius: 1rem;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .cta-button-xl:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(59, 130, 246, 0.4);
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(5px);
    }

    .modal-content {
      background: white;
      margin: 5% auto;
      padding: 2rem;
      border-radius: 2rem;
      width: 90%;
      max-width: 800px;
      position: relative;
      animation: modalSlideIn 0.3s ease;
    }

    @keyframes modalSlideIn {
      from { transform: translateY(-50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .close-modal {
      position: absolute;
      top: 1rem;
      right: 1.5rem;
      font-size: 2rem;
      cursor: pointer;
      color: #6b7280;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .projects-grid {
        grid-template-columns: 1fr;
      }
      
      .filter-container {
        flex-wrap: wrap;
        justify-content: center;
      }
      
      .project-stats {
        flex-direction: column;
        gap: 0.5rem;
      }
    }
  </style>

  <script is:inline>
    // Sistema de filtrado
    document.addEventListener('DOMContentLoaded', function() {
      const filterButtons = document.querySelectorAll('.filter-btn');
      const projectCards = document.querySelectorAll('.project-card');

      filterButtons.forEach(button => {
        button.addEventListener('click', function() {
          // Remover active de todos los botones
          filterButtons.forEach(btn => btn.classList.remove('active'));
          // Agregar active al botón clickeado
          this.classList.add('active');
          
          const filter = this.getAttribute('data-filter');
          
          projectCards.forEach(card => {
            if (filter === 'all' || card.getAttribute('data-category') === filter) {
              card.style.display = 'block';
              setTimeout(() => {
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
              }, 100);
            } else {
              card.style.opacity = '0';
              card.style.transform = 'translateY(20px)';
              setTimeout(() => {
                card.style.display = 'none';
              }, 300);
            }
          });
        });
      });

      // Modal functionality
      const modal = document.getElementById('projectModal');
      const closeModal = document.querySelector('.close-modal');

      window.openProjectModal = function(projectId) {
        modal.style.display = 'block';
        document.body.style.overflow = 'hidden';
      }

      closeModal.addEventListener('click', function() {
        modal.style.display = 'none';
        document.body.style.overflow = 'auto';
      });

      window.addEventListener('click', function(event) {
        if (event.target === modal) {
          modal.style.display = 'none';
          document.body.style.overflow = 'auto';
        }
      });

      // Inicializar AOS
      if (typeof AOS !== 'undefined') {
        AOS.init({
          duration: 1000,
          once: true,
          offset: 100
        });
      }
    });
  </script>
</BaseLayout>